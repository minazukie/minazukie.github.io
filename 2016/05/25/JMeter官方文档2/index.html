<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>JMeter官方文档2（翻译） | World of Windmills</title>
  <meta name="description" content="Minazuki&#39;s Website" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/">
  <link rel="alternate" href="/atom.xml" title="World of Windmills">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="英文原版地址：http://jmeter.apache.org/usermanual/get-started.html 开始使用JMeter的最简单方法是首先下载最新的版本并安装它。这个发布版本包含了创建和运行各种测试所需要的文件，包括Web（HTTP/HTTPS）, FTP, JDBC, LDAP, Java, JU">
<meta name="keywords" content="JMeter">
<meta property="og:type" content="article">
<meta property="og:title" content="JMeter官方文档2（翻译）">
<meta property="og:url" content="http://maho.me/2016/05/25/JMeter官方文档2/index.html">
<meta property="og:site_name" content="World of Windmills">
<meta property="og:description" content="英文原版地址：http://jmeter.apache.org/usermanual/get-started.html 开始使用JMeter的最简单方法是首先下载最新的版本并安装它。这个发布版本包含了创建和运行各种测试所需要的文件，包括Web（HTTP/HTTPS）, FTP, JDBC, LDAP, Java, JUnit等等。">
<meta property="og:image" content="http://maho.me/2016/05/25/JMeter官方文档2/images/20160529/1.png">
<meta property="og:image" content="http://maho.me/2016/05/25/JMeter官方文档2/images/20160529/2.png">
<meta property="og:image" content="http://maho.me/2016/05/25/JMeter官方文档2/images/20160529/3.png">
<meta property="og:updated_time" content="2017-11-26T14:20:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JMeter官方文档2（翻译）">
<meta name="twitter:description" content="英文原版地址：http://jmeter.apache.org/usermanual/get-started.html 开始使用JMeter的最简单方法是首先下载最新的版本并安装它。这个发布版本包含了创建和运行各种测试所需要的文件，包括Web（HTTP/HTTPS）, FTP, JDBC, LDAP, Java, JUnit等等。">
<meta name="twitter:image" content="http://maho.me/2016/05/25/JMeter官方文档2/images/20160529/1.png">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<i class="material-icons">toys</i>
			<a class="logo flat-box" href='/' >
				World of Windmills
			</a>
			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/'>
								主页
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/archives/'>
								归档
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/about/'>
								关于
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of WindMills
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<!--<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li> -->
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/" class="nav-home nav">
				主页
			</a>
		
			<a href="/archives/" class="nav-archives nav">
				归档
			</a>
		
			<a href="/about/" class="nav-about nav">
				关于
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        <article id="post-JMeter官方文档2"
  class="post white-box article-type-post"
  itemscope itemprop="blogPost">
	<section class='meta'>
	<h2 class="title">
  	<a href="/2016/05/25/JMeter官方文档2/">
    	JMeter官方文档2（翻译）
    </a>
  </h2>
	<time>
	  May 25, 2016
	</time>
	
    
    <div class='cats'>
        <a href="/categories/创作/">创作</a>
    </div>

	</section>
	
		<section class="toc-wrapper"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-配置要求"><span class="toc-number">1.</span> <span class="toc-text">2.1 配置要求</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-1-Java版本"><span class="toc-number">1.1.</span> <span class="toc-text">2.1.1 Java版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-2操作系统"><span class="toc-number">1.2.</span> <span class="toc-text">2.1.2操作系统</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-2-可选项"><span class="toc-number">2.</span> <span class="toc-text">2.2 可选项</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-1-Java编译器"><span class="toc-number">2.1.</span> <span class="toc-text">2.2.1 Java编译器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-2-SAX-XML解析器"><span class="toc-number">2.2.</span> <span class="toc-text">2.2.2 SAX XML解析器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-3-Email支持"><span class="toc-number">2.3.</span> <span class="toc-text">2.2.3 Email支持</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-4-SSL加密"><span class="toc-number">2.4.</span> <span class="toc-text">2.2.4 SSL加密</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-5-JDBC驱动"><span class="toc-number">2.5.</span> <span class="toc-text">2.2.5 JDBC驱动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-6-JMS客户端"><span class="toc-number">2.6.</span> <span class="toc-text">2.2.6 JMS客户端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-7-ActiveMQ-JMS库"><span class="toc-number">2.7.</span> <span class="toc-text">2.2.7 ActiveMQ JMS库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-3-安装"><span class="toc-number">3.</span> <span class="toc-text">2.3 安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-4-运行JMeter"><span class="toc-number">4.</span> <span class="toc-text">2.4 运行JMeter</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-1-JMeter的Classpath"><span class="toc-number">4.1.</span> <span class="toc-text">2.4.1 JMeter的Classpath</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-2-从模板创建测试计划"><span class="toc-number">4.2.</span> <span class="toc-text">2.4.2 从模板创建测试计划</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-3-在JMeter中使用代理"><span class="toc-number">4.3.</span> <span class="toc-text">2.4.3 在JMeter中使用代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-4-非GUI模式（命令行模式）"><span class="toc-number">4.4.</span> <span class="toc-text">2.4.4 非GUI模式（命令行模式）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-5-服务器模式"><span class="toc-number">4.5.</span> <span class="toc-text">2.4.5 服务器模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-6-通过命令行重写属性"><span class="toc-number">4.6.</span> <span class="toc-text">2.4.6 通过命令行重写属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-7-日志和错误信息"><span class="toc-number">4.7.</span> <span class="toc-text">2.4.7 日志和错误信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-8-命令行选项完整列表"><span class="toc-number">4.8.</span> <span class="toc-text">2.4.8 命令行选项完整列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-9-非GUI的关闭"><span class="toc-number">4.9.</span> <span class="toc-text">2.4.9 非GUI的关闭</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-5-配置JMeter"><span class="toc-number">5.</span> <span class="toc-text">2.5 配置JMeter</span></a></li></ol></section>
	
	<section class="article typo">
  	<div class="article-entry" itemprop="articleBody">
    	<p>英文原版地址：<a href="http://jmeter.apache.org/usermanual/get-started.html" target="_blank" rel="noopener">http://jmeter.apache.org/usermanual/get-started.html</a></p>
<p>开始使用JMeter的最简单方法是首先下载最新的版本并安装它。这个发布版本包含了创建和运行各种测试所需要的文件，包括Web（HTTP/HTTPS）, FTP, JDBC, LDAP, Java, JUnit等等。<br><a id="more"></a></p>
<p>如果你想做JDBC的性能测试，那么你需要从你的供应商获取JDBC驱动。JMeter不提供任何JDBC的驱动。</p>
<p>JMeter提供JMS的API的jar包，但是不提供JMS客户端工具。如果你想运行JMS测试，那么请到JMS官网下载需要的jar包。</p>
<p>接下来，我们启动JMeter并经过用户手册的构建测试计划的部分来熟悉JMeter的基本操作（比如添加或删除元素）。</p>
<p>最后，经过关于如何建立特殊类型的测试计划部分。比如，你对一个Web应用的测试感兴趣，那么请查看构建测试计划的部分。其他测试计划部分：</p>
<ul>
<li>进阶Web测试</li>
<li>JDBC</li>
<li>FTP</li>
<li>JMS点对点</li>
<li>JMS Topic</li>
<li>LDAP</li>
<li>LDAP扩展</li>
<li>WebServices（SOAP）<br>一旦你熟悉构建和运行JMeter的测试计划，你可以看看各种各样的配置元素（定时器，监听器，断言等）来为你的测试计划添加更多的控制。</li>
</ul>
<h1 id="2-1-配置要求"><a href="#2-1-配置要求" class="headerlink" title="2.1 配置要求"></a>2.1 配置要求</h1><p>JMeter要求你的计算机环境满足一些最低需求。</p>
<h2 id="2-1-1-Java版本"><a href="#2-1-1-Java版本" class="headerlink" title="2.1.1 Java版本"></a>2.1.1 Java版本</h2><blockquote>
<p>JMeter要求JVM7或更高</p>
</blockquote>
<h2 id="2-1-2操作系统"><a href="#2-1-2操作系统" class="headerlink" title="2.1.2操作系统"></a>2.1.2操作系统</h2><p>JMeter是一个100%的Java应用程序，所以需要在一个具有Java环境的操作系统中运行。</p>
<p>操作系统要求在JMeter Wiki的这一页里。</p>
<p>即使你的操作系统没有在Wiki页里显示，JMeter通常也可以运行，只要JVM符合要求。</p>
<h1 id="2-2-可选项"><a href="#2-2-可选项" class="headerlink" title="2.2 可选项"></a>2.2 可选项</h1><p>如果你在做JMeter开发，那么你需要下面涉及的一种或多种可选包。</p>
<h2 id="2-2-1-Java编译器"><a href="#2-2-1-Java编译器" class="headerlink" title="2.2.1 Java编译器"></a>2.2.1 Java编译器</h2><p>如果你想构建JMeter源或开发JMeter插件，那么需要JDK7以上的版本。</p>
<h2 id="2-2-2-SAX-XML解析器"><a href="#2-2-2-SAX-XML解析器" class="headerlink" title="2.2.2 SAX XML解析器"></a>2.2.2 SAX XML解析器</h2><p>JMeter随Apache的Xerces XML Parser发布。你有告诉JMeter使用一种不同的XML分析器的选项。要做到这一点，包括在JMeter的classpath中第三方解析器的类，并更新带全类名解析器工具的jmeter.properties文件。</p>
<h2 id="2-2-3-Email支持"><a href="#2-2-3-Email支持" class="headerlink" title="2.2.3 Email支持"></a>2.2.3 Email支持</h2><p>JMeter拥有丰富的电子邮件功能。它能发送基于测试报告的邮件，并拥有POP3(S)/IMAP(S)的采样器。它也拥有SMTP(S)采样器。</p>
<h2 id="2-2-4-SSL加密"><a href="#2-2-4-SSL加密" class="headerlink" title="2.2.4 SSL加密"></a>2.2.4 SSL加密</h2><p>要测试一个使用SSL加密（HTTPS）的Web服务器，JMeter要求提供SSL实现工具，比如使用Sun Java 1.4等情况。如果你的Java版本不支持SSL，那也可以增加一个额外实现工具。在JMeter的classpath包含必须加密包。也可以更新system.properties来注册SSL提供者。</p>
<p>JMeter的默认HTTP协议级别是TLS。编辑JMeter配置文件jmeter.properties或user.properties里的https.default.protocol可以改变他们。</p>
<p>JMeter的HTTP采样器接受所有证书配置，无论是否能够信任并无视有效期等。这样实现来测试服务器的最大灵活性。</p>
<p>如果服务器要求一个客户端证书，它也能被提供。</p>
<p>对于那些对证书有严格控制的服务器也有SSL管理器。</p>
<blockquote>
<p>JMeter代理服务器支持录制HTTPS(SSL)</p>
</blockquote>
<p>该SMTP采样器可以选择使用本地信任存储区或信任的所有证书。</p>
<h2 id="2-2-5-JDBC驱动"><a href="#2-2-5-JDBC驱动" class="headerlink" title="2.2.5 JDBC驱动"></a>2.2.5 JDBC驱动</h2><p>如果你想做JDBC测试，你需要将您的数据库供应商的JDBC驱动添加到classpath。确保文件是jar格式，而不是zip格式。</p>
<h2 id="2-2-6-JMS客户端"><a href="#2-2-6-JMS客户端" class="headerlink" title="2.2.6 JMS客户端"></a>2.2.6 JMS客户端</h2><p>现在JMeter包含来自Apache Geronimo的JMS的API，所以你仅需要添加来自JMS提供者的JMS客户端实现工具jar包。请参考其文档以了解详情。在JMeter Wiki上也许也有一些有用的信息。</p>
<h2 id="2-2-7-ActiveMQ-JMS库"><a href="#2-2-7-ActiveMQ-JMS库" class="headerlink" title="2.2.7 ActiveMQ JMS库"></a>2.2.7 ActiveMQ JMS库</h2><p>你需要向你的classpath添加名字为activemq-all-X.X.X.jar的jar包，例如通过将他们保存在lib/目录里。</p>
<p>其他需要的jar包（比如commons-logging）已经包含在JMeter里。</p>
<p>查看ActiveMQ 初始化配置页面以了解详情。</p>
<blockquote>
<p>查看JMeter Classpath部分，了解安装额外jar包的详情</p>
</blockquote>
<h1 id="2-3-安装"><a href="#2-3-安装" class="headerlink" title="2.3 安装"></a>2.3 安装</h1><p>我们推荐用户使用最新版本。</p>
<p>要安装一个发行版本，简单地向你想安装JMeter的目录里解压zip/tar文件。如果你正确安装来JRE/JDK并配置好了JAVA_HOME环境变量，那就没啥再需要做的了。</p>
<blockquote>
<p>如果目录路径里包含空格则可能会出现问题（尤其是附带client-server模式）</p>
</blockquote>
<p>安装目录结构看起来应该像这个样子（X.Y是版本数字）：</p>
<p>apache-jmeter-X.Y</p>
<p>apache-jmeter-X.Y/bin</p>
<p>apache-jmeter-X.Y/docs</p>
<p>apache-jmeter-X.Y/extras</p>
<p>apache-jmeter-X.Y/lib/</p>
<p>apache-jmeter-X.Y/lib/ext</p>
<p>apache-jmeter-X.Y/lib/junit</p>
<p>apache-jmeter-X.Y/licenses</p>
<p>apache-jmeter-X.Y/printable_docs</p>
<p>你可以重命名父目录（比如apache-jmeter-X.Y），但一定不要更改子目录的名字。</p>
<h1 id="2-4-运行JMeter"><a href="#2-4-运行JMeter" class="headerlink" title="2.4 运行JMeter"></a>2.4 运行JMeter</h1><p>要运行JMeter，请执行jmeter.bat（Windows环境下）或jmeter（Unix环境下）文件。这些文件能在bin目录下找到。等一小会儿，JMeter的图形界面就会出现。</p>
<p>bin目录里有一些你也许觉得有用的其他脚本。</p>
<p>Windows脚本文件（.CMD文件要求Windows 2000或以后的版本）：</p>
<p>jmeter.bat</p>
<p>运行JMeter（默认为图形界面模式）</p>
<p>jmeterw.cmd</p>
<p>运行不带Windows外壳程序控制台的JMeter（默认为图形界面模式）</p>
<p>jmeter-n.cmd</p>
<p>使用一个JMX文件并运行一个无图形界面的测试</p>
<p>jmeter-n-r.cmd</p>
<p>使用一个JMX文件并远程运行一个无图形界面的测试</p>
<p>jmeter-t.cmd</p>
<p>使用一个JMX文件并在GUI模式载入它</p>
<p>jmeter-server.cmd</p>
<p>启动JMeter服务器模式</p>
<p>mirror-server.cmd</p>
<p>运行非GUI模式的JMeter镜像服务器</p>
<p>shutdown.cmd</p>
<p>运行shutdown客户端正常停止非GUI实例</p>
<p>stoptest.cmd</p>
<p>运行shutdown客户端突然停止非GUI实例</p>
<blockquote>
<p>特殊名字LAST可以用在jmeter-n.cmd,jmeter-t.cmd和jmeter-n-r.cmd上，那就意味着测试计划会在最后执行</p>
</blockquote>
<p>环境变量JVM_ARGS可用于重写JVM设置在jmeter.bat脚本里。例如：</p>
<p>set JVM_ARGS=”-Xms1024m -Xmx1024m -Dpropname=propvalue”</p>
<p>jmeter -t test.jmx …</p>
<p>Un*x脚本文件（可在大多数Linux/Unix系统运行）：</p>
<p>jmeter</p>
<p>运行JMeter（默认为图形界面模式）。定义的一些JVM设置可能不适合所有JVM运行。</p>
<p>jmeter-server</p>
<p>启动JMeter服务器模式（调用带适当参数的JMeter脚本）。</p>
<p>jmeter.sh</p>
<p>非常基本的JMeter脚本（你可能需要调整JVM设置，如内存设置）。</p>
<p>mirror-server.sh</p>
<p>运行非GUI模式的JMeter镜像服务器</p>
<p>shutdown.sh</p>
<p>运行shutdown客户端正常停止非GUI实例</p>
<p>stoptest.sh</p>
<p>运行shutdown客户端突然停止非GUI实例</p>
<p>如果一些JVM设置不被你所使用的JVM支持，那可能需要编辑JMeter的Shell脚本。环境变量JVM_ARGS可悲重写或设置其他JVM设置，比如：</p>
<p>JVM_ARGS=”-Xms1024m -Xmx1024m” jmeter -t test.jmx[etc.]</p>
<p>将重写脚本里的HEAP设置。</p>
<h2 id="2-4-1-JMeter的Classpath"><a href="#2-4-1-JMeter的Classpath" class="headerlink" title="2.4.1 JMeter的Classpath"></a>2.4.1 JMeter的Classpath</h2><p> JMeter能够自动在下列目录中找到来自jar包中的类：</p>
<p>JMETER_HOME/lib</p>
<p>用于公用jar包</p>
<p>JMETER_HOME/lib/ext</p>
<p>用于JMeter组件和插件</p>
<p>如果你已经开发过新的JMeter组件，那你应该把他们做成jar包并复制到JMeter的lib/ext目录下。JMeter将自动找到该目录下任意jar包里的JMeter组件。不要把公用jar包或插件使用的依赖jar包放到lib/ext目录下；它仅用于JMeter的组件和插件。</p>
<p>如果你不想把JMeter插件jar包放到lib/ext目录下，那么可以对jmeter.properties里的search_paths进行设置。</p>
<p>公用和依赖jar包（库等）可以放在lib目录下。</p>
<p>如果你不想把这些jar包放到lib目录下，那么可以对jmeter.properties里的user.classpath或plugin_dependency_paths进行设置。请参阅以下差异的说明。</p>
<p>其他jar包（例如JDBC，JMS实现工具以及其他被JMeter代码所支持的库）应该放到lib目录下，而不是lib/ext目录下或增加到user.classpath。</p>
<blockquote>
<p>JMeter只能识别.jar文件，而不会识别.zip文件</p>
</blockquote>
<p>你也可以在$JAVA_HOME/jre/lib/ext里安装公用jar文件，或者你可以对jmeter.properties里的user.classpath进行设置。</p>
<p>请注意，设置CLASSPATH环境变量将不会有任何效果。这是因为JMeter随“java -jar”启动，并且当-jar被使用时，java命令会悄悄地忽视CLASSPATH变量和-classpath/-cp选项。</p>
<blockquote>
<p>这发生在所有的Java程序而不仅仅是Jmeter</p>
</blockquote>
<h2 id="2-4-2-从模板创建测试计划"><a href="#2-4-2-从模板创建测试计划" class="headerlink" title="2.4.2 从模板创建测试计划"></a>2.4.2 从模板创建测试计划</h2><p>你能够从已经存在的模板中创建一个新的测试计划。</p>
<p>要做到这一点，单击菜单 文件→Templates… 或 Templates图标：<br><img src="images/20160529/1.png" alt="1"><br>弹出对话框，你可以在这个列表里选择一个模板：<br><img src="images/20160529/2.png" alt="2"><br>对于每个模板都有个文档，它会说明测试计划从模板中被创建后要做什么。</p>
<h2 id="2-4-3-在JMeter中使用代理"><a href="#2-4-3-在JMeter中使用代理" class="headerlink" title="2.4.3 在JMeter中使用代理"></a>2.4.3 在JMeter中使用代理</h2><p>如果你正在测试具有防火墙/代理的服务器，你需要为JMeter提供防火墙/代理服务器的主机名和端口号。要做到这一点，在命令行执行jmeter[.bat]文件并附带以下命令：</p>
<p>-H</p>
<p>[代理服务器主机名或IP地址]</p>
<p>-P</p>
<p>[代理服务器端口]</p>
<p>-N</p>
<p>[非代理主机]（例如*.apache.org|localhost）</p>
<p>-u</p>
<p>[代理身份验证的用户名（如果需要的话）]</p>
<p>-a</p>
<p>[代理身份验证的密码（如果需要的话）]</p>
<p>例子：</p>
<p>jmeter -H my.proxy.server -P 8000 -u username -a password -N localhost</p>
<p>你也可以使用–proxyHost，–proxyPort，–username和–password作为参数名称。</p>
<blockquote>
<p>提供的命令行参数对系统其他用户可见</p>
</blockquote>
<p>如果提供了代理主机和端口，那么JMeter会设置以下系统属性：</p>
<p>http.proxyHost</p>
<p>http.proxyPort</p>
<p>https.proxyHost</p>
<p>https.proxyPort</p>
<p>如果提供了非代理主机列表，那么JMeter会设置以下系统属性：</p>
<p>http.nonPorxyHosts</p>
<p>https.nonProxyHosts</p>
<p>所以如果你不想同时设置http和https代理，你可以在system.properties设置相关属性而不是使用命令行参数。</p>
<p>代理设置也可以在一个测试计划里定义，使用HTTP默认请求配置或HTTP请求采样器元素。</p>
<blockquote>
<p>JMeter也有它自己的内置代理服务器——HTTP(S)测试脚本录制器。这只能用于录制HTTP或HTTPS浏览器会话。当JMeter自己产生HTTP或HTTPS请求被使用，它不能与上述的代理设置相混淆</p>
</blockquote>
<h2 id="2-4-4-非GUI模式（命令行模式）"><a href="#2-4-4-非GUI模式（命令行模式）" class="headerlink" title="2.4.4 非GUI模式（命令行模式）"></a>2.4.4 非GUI模式（命令行模式）</h2><p>对于非交互测试，你可以运行不带图形界面的JMeter。要做到这一点，使用以下命令选项：</p>
<p>-n</p>
<p>这个专门用来运行不带图形界面的JMeter</p>
<p>-t</p>
<p>[包含测试计划的JMX文件的文件名]</p>
<p>-l</p>
<p>[记录采样器结果的JTL文件的文件名]</p>
<p>-j</p>
<p>[运行JMeter日志文件的文件名]</p>
<p>-r</p>
<p>在设置过JMeter属性“remote_hosts”的服务器里运行测试</p>
<p>-R</p>
<p>[远程服务器列表] 在特定的远程服务器里运行测试</p>
<p>-g</p>
<p>[CSV文件路径] 仅生成报告仪表板</p>
<p>-e</p>
<p>负载测试过后生成报告仪表板</p>
<p>-o</p>
<p>负载测试过后生成报告仪表板的输出文件夹</p>
<p>文件夹必须不存在或者为空</p>
<p>该脚本还可以指定可选的防火墙/代理服务信息：</p>
<p>-H</p>
<p>[代理服务器主机名或IP地址]</p>
<p>-P</p>
<p>[代理服务器端口]</p>
<p>例子：</p>
<p>jmeter -n -t my_test.jmx -l log.jtl -H my.proxy.server -P 8000</p>
<p>如果jmeterengine.stopfail.system.exit属性被设置为真（默认为假），那么JMeter将调用System.exit(1)如果它不能停止所有线程。</p>
<p>通常那不是必须的。</p>
<h2 id="2-4-5-服务器模式"><a href="#2-4-5-服务器模式" class="headerlink" title="2.4.5 服务器模式"></a>2.4.5 服务器模式</h2><p>对于分布式测试，在远程节点运行JMeter服务器模式，并且从GUI控制服务器。你也可以使用非GUI模式来运行远程测试。要启动服务器，在每个服务器主机运行jmeter-server[.bat]。</p>
<p>该脚本还可以指定可选的防火墙/代理服务信息：</p>
<p>-H</p>
<p>[代理服务器主机名或IP地址]</p>
<p>-P</p>
<p>[代理服务器端口]</p>
<p>例子：</p>
<p>jmeter-server -H my.proxy.server -P 8000</p>
<p>如果你想让服务器在单个测试已经运行后退出，那么请设置JMeter属性server.exitaftertest=true。</p>
<p>要在客户端里运行非GUI模式测试，使用下列命令：</p>
<p>jmeter -n -t testplan.jmx -r [-Gprop=val] [-Gglobal.properties] [-X]</p>
<p>其中：</p>
<p>-G</p>
<p>被用来定义服务器里JMeter属性</p>
<p>-X</p>
<p>意味着在测试结束时退出服务器</p>
<p>-Rserver1,server2</p>
<p>可用来代替-r提供服务器启动的列表。重写remote_hosts，但不定义属性。</p>
<p>如果jmeterengine.remote.system.exit属性被设置为真（默认为假），那么在测试结束时停止RMI后JMeter将调用System.exit(0)。通常那不是必须的。</p>
<h2 id="2-4-6-通过命令行重写属性"><a href="#2-4-6-通过命令行重写属性" class="headerlink" title="2.4.6 通过命令行重写属性"></a>2.4.6 通过命令行重写属性</h2><p>Java系统属性，JMeter属性和日志属性可以直接在命令行下重写（而不是修改jmeter.properties）。要做到这一点，请使用下列选项：</p>
<p>-D[prop_name]=[value]<br>定义Java系统属性值。<br>-J[prop_name]=[value]<br>定义本地JMeter属性。<br>-G[prop_name]=[value]<br>定义要发送给所有远程服务器的JMeter属性。<br>-G[propertyfile]<br>定义包含发送给所有远程服务器的JMeter属性的文件。<br>-L[category]=[priority]<br>重写日志设置，设置一个特定级别的优先级。<br>-L标记也可以不带目录名称用于设置根目录日志级别。</p>
<p>例子：</p>
<pre><code>jmeter -Duser.dir=/home/mstover/jmeter_stuff

-Jremote_hosts=127.0.0.1 -Ljmeter.engine=DEBUG

jmeter -LDEBUG
</code></pre><blockquote>
<p>命令行属性在启动初期处理，但那会在日志系统建立后处理。所以尝试使用-J标记来更新log_level或log_file属性将不会有作用。</p>
</blockquote>
<h2 id="2-4-7-日志和错误信息"><a href="#2-4-7-日志和错误信息" class="headerlink" title="2.4.7 日志和错误信息"></a>2.4.7 日志和错误信息</h2><p>JMeter一般不会使用弹出式对话框来显示错误，因为这将与运行测试产生冲突。他也没有报告任何变量或函数的拼写错误。查看函数和变量部分获取更多信息。<br>如果JMeter在测试时检测到错误，那么消息会写在日志文件里。日志文件名在jmter.properties文件里定义（或使用-j选项，见下文）。默认文件名为jmeter.log，并且该文件会在已经启动的JMeter下的目录里找到。</p>
<p>菜单 选项→Log Viewer 显示在JMeter主窗口底部窗格的日志文件。</p>
<p>在GUI模式下，错误/致命错误的数量会记录在日志文件里并显示着右上角。<br><img src="images/20160529/3.png" alt="3"><br>命令行选项-j jmeterlogfile 允许在初始属性文件被读取后或在进一步属性处理之前处理。因此允许jmeter.log的默认值被重写。这需要一个测试计划名称作为参数（例如jmeter-n.cmd），已经使用测试计划名称更新日志文件定义，例如对于Test27.jmx的日志文件就命名为Test27.log。</p>
<p>当JMeter在Windows下运行，那么文件可能只会显示为jmeter除非你已经设置显示文件扩展名[反正你需要做的就是，使其更容易检测到装成文本文件的病毒或其他糟糕的东西…]</p>
<p>还有记录错误，jmeter.log文件记录了测试运行的一些信息。例如：</p>
<p>10/17/2003 12:19:20 PM INFO  - jmeter.JMeter: Version 1.9.20031002</p>
<p>10/17/2003 12:19:45 PM INFO  - jmeter.gui.action.Load: Loading file: c:mytestfilesBSH.jmx</p>
<p>10/17/2003 12:19:52 PM INFO  - jmeter.engine.StandardJMeterEngine: Running the test!</p>
<p>10/17/2003 12:19:52 PM INFO  - jmeter.engine.StandardJMeterEngine: Starting 1 threads for group BSH. Ramp up = 1.</p>
<p>10/17/2003 12:19:52 PM INFO  - jmeter.engine.StandardJMeterEngine: Continue on error</p>
<p>10/17/2003 12:19:52 PM INFO  - jmeter.threads.JMeterThread: Thread BSH1-1 started</p>
<p>10/17/2003 12:19:52 PM INFO  - jmeter.threads.JMeterThread: Thread BSH1-1 is done</p>
<p>10/17/2003 12:19:52 PM INFO  - jmeter.engine.StandardJMeterEngine: Test has ended</p>
<p>日志文件对缺点错误原因很有帮助，而且JMeter不会中断测试来显示错误对话。</p>
<h2 id="2-4-8-命令行选项完整列表"><a href="#2-4-8-命令行选项完整列表" class="headerlink" title="2.4.8 命令行选项完整列表"></a>2.4.8 命令行选项完整列表</h2><p>调用jmeter -?命令会显示所有命令行选项列表。</p>
<h2 id="2-4-9-非GUI的关闭"><a href="#2-4-9-非GUI的关闭" class="headerlink" title="2.4.9 非GUI的关闭"></a>2.4.9 非GUI的关闭</h2><p>在之前的2.5.1版本，当非GUI测试完成时JMeter调用System.exit()命令结束。这对直接调用JMeter的应用会造成问题，所以完成一个通常测试后JMeter不再调用System.exit()。[某些致命错误仍可能调用System.exit()]JMeter会推出所有它启动的非守护线程，但一些非守护线程可能会依然存在；这将阻止JVM的退出，为检测这种情况，JMeter在它退出前会启动一个新的守护线程。这个守护县城会等待一小会儿；如果它从等待返回，那么就能清楚地了解JVM一直未退出，并且线程会显示信息来说明原因。</p>
<h1 id="2-5-配置JMeter"><a href="#2-5-配置JMeter" class="headerlink" title="2.5 配置JMeter"></a>2.5 配置JMeter</h1><p>如果你想修改JMeter的一些属性，那么你需要修改/bin目录下的user.properties或创建你自己的jmeter.properties副本并在命令行下指定它。</p>
<blockquote>
<p>说明：你可以在具有默认值的user.properties下定义其他的JMeter属性。这个文件将被自动读取如果它在JMeter的bin目录下被找到。同样，system.properties被用来更新系统属性</p>
</blockquote>

  	</div>
	  
	  <div class="article-tags tags">
      
        <a href="/tags/JMeter/">JMeter</a>
      
	  </div>
    
		
	
		<div class="art-item-footer">
				
					<span class="art-item-left"><i class="icon icon-chevron-thin-left"></i>prev：<a href="/2016/06/26/Python3的MySQL连接工具PyMySQL/" rel="prev"  title="Python3的MySQL连接工具PyMySQL">
						Python3的MySQL连接工具PyMySQL 
					</a></span>
				
				
					<span class="art-item-right">next：<a href="/2016/05/24/JMeter官方文档/" rel="next"  title="JMeter官方文档（翻译）">
						JMeter官方文档（翻译）
					</a><i class="icon icon-chevron-thin-right"></i></span>
				
		</div>
	
	</section>
	
		<section id="comments">
			<div id="disqus_thread">评论需要搭梯子...</div>
		</section>
	
</article>
<script>
	window.subData = {
		title: 'JMeter官方文档2（翻译）',
		tools: true
	}
</script>

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/avatar.png' />

<div class='header'>Du Jiangfan</div>
<div class='content'>
<div class='desc'>
<p>進め、たまに逃げても...</p>
<p>

      
        <a href="https://github.com/minazukie" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/minazukie2015" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
</p>
</div>
</div>
</section>

  <section class='m_widget categories'>
<div class='header'>Categories</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/categories/分享/"><div class='name'>分享</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/创作/"><div class='name'>创作</div><div class='badget'>4</div></a></li>
    
        <li><a class="flat-box" href="/categories/总结/"><div class='name'>总结</div><div class='badget'>1</div></a></li>
    
        <li><a class="flat-box" href="/categories/笔记/"><div class='name'>笔记</div><div class='badget'>1</div></a></li>
    
    </ul>
    
</div>
</section>

  
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class='content'>
        <a href="/tags/JMeter/" style="font-size: 20px; color: #000">JMeter</a> <a href="/tags/JavaScript/" style="font-size: 14px; color: #808080">JavaScript</a> <a href="/tags/cpp/" style="font-size: 14px; color: #808080">cpp</a> <a href="/tags/python/" style="font-size: 14px; color: #808080">python</a> <a href="/tags/sublime-text-3/" style="font-size: 14px; color: #808080">sublime text 3</a> <a href="/tags/termux/" style="font-size: 14px; color: #808080">termux</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/minazukie" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/minazukie2015" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>

  <div>
    <p><a href="/">Minazuki</a> 2019</p>
    <p>Powered By Hexo</p>
  </div>
  
</footer>


  <script>setLoadingBarProgress(80);</script>
  
  <script>
    var disqus_shortname = 'minazukie-github-io';
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>


<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>
<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
</body>
</html>
